var geo={get:function(o,e){return this[o](e)},position:function(o){if(navigator.geolocation)navigator.geolocation.getCurrentPosition(o.onSuccess);else{if(!o.onError||"function"!=typeof o.onError)throw new Error("You don`t send an action to error on geolocation");o.onError()}}},marker="",GMap=function(o){var e=this;e.config=o,e.doc=document,e.map=null,e.position=e.config.position||null,e.markers={},e.peremeters={},e.dependencies(),e.doc.initGmap=function(){e.init()}};GMap.prototype.init=function(){var o=this;o.config.geolocation&&null===o.position?geo.get("position",{onSuccess:function(e){o.position={lat:e.coords.latitude,lng:e.coords.longitude},o.createMap()}}):o.createMap()},GMap.prototype.createMap=function(){var o=this;o.map=new google.maps.Map(o.el(),{center:o.position,zoom:16}),o.setMarker("user",o.position),o.setPeremeter("user",o.position)},GMap.prototype.setMarker=function(o,e){var t=this;t.markers[o]=new google.maps.Marker({position:e,map:t.map})},GMap.prototype.setPeremeter=function(o,e){var t=this;t.peremeters[o]=new google.maps.Circle({center:e,radius:800,strokeColor:"#333",strokeOpacity:.5,strokeWeight:1,fillColor:"#333",fillOpacity:.15,map:t.map})},GMap.prototype.el=function(){var o=this;return o.doc.getElementById(o.config.content)},GMap.prototype.dependencies=function(){var o=this,e=o.doc.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key="+o.config.api+"&callback=document.initGmap",o.doc.getElementsByTagName("head")[0].appendChild(e)};