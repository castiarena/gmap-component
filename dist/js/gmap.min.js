var utils=function(){"use strict";return{getUserDistance:function(e){var t=e.getBounds(),o=t.getNorthEast(),i=t.getSouthWest();return 1e3*this.getDistance(o.lat(),o.lng(),i.lat(),i.lng(),"km")},getDistance:function(e,t,o,i,n){var r=Math.PI,a=r*e/180,s=r*o/180,l=t-i,p=r*l/180,c=Math.sin(a)*Math.sin(s)+Math.cos(a)*Math.cos(s)*Math.cos(p);return c=Math.acos(c),c=180*c/r,c=60*c*1.1515,"km"==n&&(c=1.609344*c),c.toFixed(3)}}}(),geo=function(e){"use strict";var t={position:function(e){if(navigator.geolocation)navigator.geolocation.getCurrentPosition(e.onSuccess);else{if(!e.onError||"function"!=typeof e.onError)throw new Error("You don`t send an action to error on geolocation");e.onError()}}};return{get:function(e,o){return t[e](o)}}}(window);!function(e,t){"use strict";function o(e,t){var o=t,i=this;i.config={type:o.type||"script",elementString:o.elementString||"head",api:o?{key:o.api.key,search:o.api.search||"KEY"}:null,url:e,id:o.name||(new Date).getTime()+"-dependencie"},function(){i.insert()}()}o.prototype.insert=function(){var e=this,o=t.createElement(e.config.type);o.id=e.config.id,o.src=null!==e.config.api?e.config.url.replace(e.config.api.search,e.config.api.key):e.config.url,t.getElementsByTagName(e.config.elementString)[0].appendChild(o)},o.prototype.remove=function(){var e=this,o=t.getElementById(e.config.id);t.getElementsByTagName(e.config.elementString)[0].removeChild(o)},e.Dependencie=o}(window,document),function(e,t){"use strict";var o=function(t){var o=this;o.config=t,o.geolocation=t.geolocation||!1,o.libraries=t.libraries||null,o.map=null,o.position=o.config.position||null,o.markers={},o.peremeters={},o.dependencie=null,o.dependencies(),e.initGmap=function(){return o.init()}};o.prototype.init=function(){var e=this;if(e.geolocation&&null===e.position)geo.get("position",{onSuccess:function(t){e.position={lat:t.coords.latitude,lng:t.coords.longitude},e.createMap()}});else{if(null===e.position)throw new Error("Must set a position");e.createMap()}},o.prototype.createMap=function(){var e=this;e.map=new google.maps.Map(e.el(),{center:e.position,zoom:16,mapTypeControl:!1,navigationControlOptions:{style:google.maps.NavigationControlStyle.SMALL},zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER},streetViewControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"simplified"}]},{featureType:"transit.station",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"landscape.man_made",elementType:"all",stylers:[{visibility:"off"}]}]}),google.maps.event.addListenerOnce(e.map,"idle",function(){e.setMarker("user",e.position)}),google.maps.event.addListener(e.map,"idle",function(){})},o.prototype.setMarker=function(e,t){var o=this,i={path:google.maps.SymbolPath.CIRCLE,fillOpacity:1,fillColor:"#2f4f90",strokeOpacity:1,strokeColor:"#2f4f90",strokeWeight:1,scale:5},n={path:google.maps.SymbolPath.CIRCLE,fillOpacity:.2,fillColor:"#2f4f90",strokeOpacity:1,strokeColor:"#2f4f90",strokeWeight:4,scale:20};o.markers[e+"-center"]=new google.maps.Marker({position:t,icon:i,map:o.map}),o.markers[e+"-perimeter"]=new google.maps.Marker({position:t,icon:n,map:o.map})},o.prototype.setPeremeter=function(e,t){var o=this;o.peremeters[e]=new google.maps.Circle({center:t,radius:.03*utils.getUserDistance(o.map),strokeColor:"transparent",strokeOpacity:.5,strokeWeight:1,fillColor:"#2f4f90",fillOpacity:.3,map:o.map})},o.prototype.el=function(){var e=this;return t.getElementById(e.config.content)},o.prototype.dependencies=function(){var e=this;e.dependencie=new Dependencie("https://maps.googleapis.com/maps/api/js?key=|KEY|&callback=initGmap",{api:{search:"|KEY|",key:e.config.api}})},o.prototype.events=function(){},e.GMap=o}(window,document);